<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="clara">
    <title><%=year%>년가계부</title>    
    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="/main.css">
  </head>
  <body>
<% for(var qt=1; qt<=4; qt++) { %>
    <div class="row justify-content-center my-1 ms-1 me-0">
<%  for(var i=(qt-1)*3+1; i<=qt*3; i++) { %>
      <div class="col-sm-3 me-1 card text-bg-light">
        <div class="card-body bg-img-<%=year%><%=(''+i).padStart(2, '0')%>">
          <h5 class="card-title" id="divMonth<%=i%>"><%=i%>월</h5>
        </div>
        <div class="card-header">
          수입 : <%=jsonObj[5+(i-1)*4].O%>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">월급 : <%=jsonObj[5+(i-1)*4].D%></li>
          <li class="list-group-item">보너스 등 : <%=jsonObj[5+(i-1)*4].E%></li>
          <li class="list-group-item">이자,월세이익 : <%=jsonObj[5+(i-1)*4].F%></li>
          <li class="list-group-item">기타(소득) : <%=jsonObj[5+(i-1)*4].G%></li>
        </ul>
        <div class="card-header">
          지출 : <%=jsonObj[5+(i-1)*4].P%>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">저축계 : <%=jsonObj[6+(i-1)*4].C%></li>
          <li class="list-group-item">기본지출계 : <%=jsonObj[7+(i-1)*4].C%></li>
          <li class="list-group-item">생활비계 : <%=jsonObj[8+(i-1)*4].C%></li>
        </ul>
        <div class="card-body">
          <a href="/year/<%=year%>/mm/<%=i%>" class="btn btn-sm btn-primary active">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/>
            </svg>
            <%=i%>월 상세
          </a>
          <a href="/syncData/year/<%=year%>/mm/<%=i%>" class="btn btn-sm btn-primary">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-database-add" viewBox="0 0 16 16">
              <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0Z"/>
              <path d="M12.096 6.223A4.92 4.92 0 0 0 13 5.698V7c0 .289-.213.654-.753 1.007a4.493 4.493 0 0 1 1.753.25V4c0-1.007-.875-1.755-1.904-2.223C11.022 1.289 9.573 1 8 1s-3.022.289-4.096.777C2.875 2.245 2 2.993 2 4v9c0 1.007.875 1.755 1.904 2.223C4.978 15.71 6.427 16 8 16c.536 0 1.058-.034 1.555-.097a4.525 4.525 0 0 1-.813-.927C8.5 14.992 8.252 15 8 15c-1.464 0-2.766-.27-3.682-.687C3.356 13.875 3 13.373 3 13v-1.302c.271.202.58.378.904.525C4.978 12.71 6.427 13 8 13h.027a4.552 4.552 0 0 1 0-1H8c-1.464 0-2.766-.27-3.682-.687C3.356 10.875 3 10.373 3 10V8.698c.271.202.58.378.904.525C4.978 9.71 6.427 10 8 10c.262 0 .52-.008.774-.024a4.525 4.525 0 0 1 1.102-1.132C9.298 8.944 8.666 9 8 9c-1.464 0-2.766-.27-3.682-.687C3.356 7.875 3 7.373 3 7V5.698c.271.202.58.378.904.525C4.978 6.711 6.427 7 8 7s3.022-.289 4.096-.777ZM3 4c0-.374.356-.875 1.318-1.313C5.234 2.271 6.536 2 8 2s2.766.27 3.682.687C12.644 3.125 13 3.627 13 4c0 .374-.356.875-1.318 1.313C10.766 5.729 9.464 6 8 6s-2.766-.27-3.682-.687C3.356 4.875 3 4.373 3 4Z"/>
            </svg>
            동기화
          </a>
        </div>
      </div>
<%  } %>
    </div>
<% } %>
    <nav class="navbar navbar-expand-lg sticky-bottom navbar-dark bg-success bg-opacity-75">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-house-heart text-success d-inline-block align-text-top" viewBox="0 0 16 16">
            <path d="M8 6.982C9.664 5.309 13.825 8.236 8 12 2.175 8.236 6.336 5.309 8 6.982Z"/>
            <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.707L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.646a.5.5 0 0 0 .708-.707L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"/>
          </svg>
          지연's 가계부
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item dropup">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <%=year%>년
              </a>
              <ul class="dropdown-menu">
                <% 
                const today = new Date();
                for (var i=2010; i <= today.getFullYear(); i++) {
                %>
                <li><a class="dropdown-item" href="/year/<%=i%>"><%=i%>년</a></li>
                <%
                }
                %>
              </ul>
            </li>
          </ul>
          <div class="d-flex" role="search">
            <div class="input-group dropup-center dropup me-2">
              <input class="form-control" type="search" placeholder="검색" aria-label="Search" id="iptSearch">
              <input type="hidden" id="hdnYear" value="<%=year%>">
              <button type="button" class="btn btn-outline-secondary dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false" data-bs-auto-close="outside">
                옵션
              </button>
              <div class="dropdown-menu ms-5 p-4">
                <div class="form-check mb-3">
                  <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" value="">
                  <label class="form-check-label" for="flexRadioDefault1">
                    전체
                  </label>
                </div>
                <div class="form-check mb-3">
                  <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" checked value="C">
                  <label class="form-check-label" for="flexRadioDefault2">
                    Contents
                  </label>
                </div>
                <div class="form-check mb-3">
                  <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault3" value="G">
                  <label class="form-check-label" for="flexRadioDefault3">
                    Remark
                  </label>
                </div>
                <div class="form-check mb-3">
                  <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault4" value="D">
                  <label class="form-check-label" for="flexRadioDefault4">
                    Expenses
                  </label>
                </div>
                <div class="form-check mb-3">
                  <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault5" value="B">
                  <label class="form-check-label" for="flexRadioDefault5">
                    Date
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault6" value="H">
                  <label class="form-check-label" for="flexRadioDefault6">
                    Contents Code
                  </label>
                </div>
              </div>
            </div>
            <button class="btn btn-outline-success" id="btnSearch" type="button">Search</button>
          </div>
        </div>
      </div>
    </nav>
    <script src="/main.js" defer></script>
    <script>
      const today = new Date();
      const year = "<%=year%>";
      
      if (year == ""+today.getFullYear()) {
        onload = (event) => {self.location = "#divMonth"+(today.getMonth()+1);};
      } else {
        onload = (event) => {self.location = "#divMonth12";};
      }
    </script>
  </body>
</html>
